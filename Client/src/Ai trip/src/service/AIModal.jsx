import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey =import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$$\",\n      \"imageUrl\": \"https://www.theD.com/images/hero-images/hero-image-4.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n      \"rating\": 4.0,\n      \"description\": \"A downtown hotel with a retro vibe, offering affordable rooms, a casino, and live entertainment.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$$$\",\n      \"imageUrl\": \"https://www.goldennugget.com/las-vegas/media/images/hotel/Golden-Nugget-Hotel-Exterior.jpg\",\n      \"geoCoordinates\": \"36.1697° N, 115.1402° W\",\n      \"rating\": 4.5,\n      \"description\": \"A historic hotel known for its luxurious rooms, world-class dining, and the iconic shark tank.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$$\",\n      \"imageUrl\": \"https://www.circuscircus.com/media/images/circus-circus-hotel-casino-las-vegas-exterior-day-6.jpg\",\n      \"geoCoordinates\": \"36.1089° N, 115.1704° W\",\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a circus theme, offering affordable rooms, a casino, and amusement rides.\"\n    },\n    {\n      \"name\": \"The Strat Hotel, Casino & SkyPod\",\n      \"address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$$$\",\n      \"imageUrl\": \"https://www.thestrat.com/media/images/skypod-view-from-observatory.jpg\",\n      \"geoCoordinates\": \"36.1167° N, 115.1713° W\",\n      \"rating\": 4.0,\n      \"description\": \"A unique hotel with a towering observation deck, offering rooms with stunning city views, a casino, and dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Downtown Delights\",\n      \"description\": \"Explore the vibrant energy of Fremont Street and experience the free attractions of Downtown Las Vegas.\",\n      \"places\": [\n        {\n          \"name\": \"Fremont Street Experience\",\n          \"details\": \"A pedestrian-friendly street with a giant video canopy showcasing live music and light shows. Enjoy free concerts, street performers, and a vibrant nightlife.\",\n          \"imageUrl\": \"https://www.fremontstreetexperience.com/media/images/FremontStreetExperience-Banner.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"name\": \"The Mob Museum\",\n          \"details\": \"Discover the history of organized crime in Las Vegas and the United States. Explore interactive exhibits and learn about famous gangsters and notorious events.\",\n          \"imageUrl\": \"https://www.themobmuseum.org/images/home/mob-museum-homepage-hero-photo-mobile.jpg\",\n          \"geoCoordinates\": \"36.1683° N, 115.1428° W\",\n          \"ticketPricing\": \"$29.95 per person\",\n          \"timeToTravel\": \"1.5-2 hours\"\n        },\n        {\n          \"name\": \"Golden Nugget Casino\",\n          \"details\": \"Visit the iconic Golden Nugget casino and enjoy its luxurious ambiance, gambling options, and the famous shark tank aquarium.\",\n          \"imageUrl\": \"https://www.goldennugget.com/las-vegas/media/images/hotel/Golden-Nugget-Hotel-Exterior.jpg\",\n          \"geoCoordinates\": \"36.1697° N, 115.1402° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        }\n      ],\n      \"bestTimeToVisit\": \"Evening for Fremont Street Experience, Daytime for The Mob Museum, anytime for Golden Nugget Casino\"\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Stripping the Strip\",\n      \"description\": \"Experience the iconic Las Vegas Strip with its dazzling shows, world-class dining, and stunning hotels.\",\n      \"places\": [\n        {\n          \"name\": \"Bellagio Fountains\",\n          \"details\": \"Enjoy the spectacular water show synchronized with music and lights. The fountains perform throughout the day and evening.\",\n          \"imageUrl\": \"https://www.bellagio.com/content/dam/mgmresorts/bellagio/images/bellagio-fountains-day-and-night-carousel.jpg\",\n          \"geoCoordinates\": \"36.1186° N, 115.1735° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"name\": \"The Venetian and The Palazzo\",\n          \"details\": \"Explore the luxurious Venetian and Palazzo resorts, enjoy gondola rides, shop at designer boutiques, and marvel at the replica of St. Mark’s Square.\",\n          \"imageUrl\": \"https://www.venetian.com/content/dam/mgmresorts/venetian/images/venetian-exterior-day-carousel.jpg\",\n          \"geoCoordinates\": \"36.1136° N, 115.1725° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"name\": \"Caesars Palace\",\n          \"details\": \"Explore the Roman-themed Caesars Palace, gamble at its casino, dine at its world-renowned restaurants, and relax by the pool.\",\n          \"imageUrl\": \"https://www.caesars.com/content/dam/caesars/images/caesars-palace-exterior-day-carousel.jpg\",\n          \"geoCoordinates\": \"36.1172° N, 115.1722° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        }\n      ],\n      \"bestTimeToVisit\": \"Evening for Bellagio Fountains, Daytime for The Venetian and The Palazzo, anytime for Caesars Palace\"\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Free and Fun\",\n      \"description\": \"Enjoy free activities and attractions around Las Vegas, including outdoor spaces and entertainment.\",\n      \"places\": [\n        {\n          \"name\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Escape the city and explore the scenic landscapes of Red Rock Canyon, with stunning rock formations and hiking trails.\",\n          \"imageUrl\": \"https://www.nps.gov/redr/learn/nature/images/redrockcanyon-620-2.jpg\",\n          \"geoCoordinates\": \"36.1425° N, 115.2111° W\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"3-4 hours\"\n        },\n        {\n          \"name\": \"The LINQ Promenade\",\n          \"details\": \"Walk the vibrant LINQ Promenade, offering restaurants, shops, entertainment, and the High Roller observation wheel.\",\n          \"imageUrl\": \"https://www.caesars.com/content/dam/caesars/images/the-linq-promenade-exterior-night-carousel.jpg\",\n          \"geoCoordinates\": \"36.1089° N, 115.1704° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Las Vegas Strip\",\n          \"details\": \"Stroll along the Strip at night, marveling at the dazzling lights and exploring the various resorts.\",\n          \"imageUrl\": \"https://www.lasvegas.com/media/images/The-Strip-at-Night.jpg\",\n          \"geoCoordinates\": \"36.1160° N, 115.1718° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        }\n      ],\n      \"bestTimeToVisit\": \"Daytime for Red Rock Canyon National Conservation Area, Anytime for The LINQ Promenade, Evening for Las Vegas Strip\"\n    }\n  ]\n}\n```\n\n**Please note:**\n\n* This itinerary is just a suggestion and can be customized based on your interests and preferences.\n* The prices for attractions and hotels may vary, so it's recommended to check current rates before booking.\n* Consider visiting during the off-season (spring or fall) to get better deals and avoid crowds.\n* Take advantage of free activities like exploring the Strip at night, attending free shows, and enjoying the Bellagio Fountains.\n* Research and book your hotel and activities in advance to secure the best deals."},
          ],
        },
      ],
    });
  